{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eliezer Muller\\\\Desktop\\\\FinalProject\\\\client\\\\src\\\\AddUserPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddUserPageComp(props) {\n  _s();\n\n  //\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [sessionTimeout, setSessionTimeOut] = useState(\"\");\n  const [permissions, setPermissions] = useState([]);\n\n  function updatePermissionss(perm) {\n    if (document.getElementById(perm).checked) {\n      let newPerms = [...permissions, perm];\n      setPermissions(newPerms);\n    } else if (!document.getElementById(perm).checked) {\n      let index = permissions.indexOf(perm);\n      let newPerms = [...permissions];\n      newPerms.splice(index, 1);\n      setPermissions(newPerms);\n    }\n  }\n\n  const AddUser = async e => {\n    e.preventDefault();\n    let obj = {\n      userName: userName,\n      password: null\n    };\n    let statusPostLogin = await axios.post(\"http://localhost:8000/api/login\", obj);\n    let resp = await axios.get(\"http://localhost:8000/api/login\");\n    let users = resp.data;\n    let user = users.find(x => x.UserName == userName);\n    let id = user._id;\n    let objUser = {\n      Id: id,\n      FirstName: firstName,\n      LastName: lastName,\n      UserName: userName,\n      SessionTimeout: Number(sessionTimeout),\n      CreatedDate: new Date().toLocaleDateString(\"en-GB\"),\n      Permissions: permissions\n    };\n    let statusPostUsers = await axios.post(\"http://localhost:8000/api/users\", objUser);\n    alert('A new User has created');\n    props.history.push(\"/MainPage/UsersManagement/\" + props.match.params.userId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"item\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add New User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: AddUser,\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"First Name \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputTextForm\",\n          type: \"text\",\n          id: \"FirstName\",\n          onChange: e => {\n            setFirstName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 28\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 140\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \" Last Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputTextForm\",\n          type: \"text\",\n          id: \"LastName\",\n          onChange: e => {\n            setLastName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 28\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 138\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \" User Name :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"inputTextForm\",\n          id: \"UserName\",\n          onChange: e => {\n            setUserName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 139\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Sesion time out (Minutes):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"inputTextForm\",\n          id: \"SessionTimeout\",\n          onChange: e => {\n            setSessionTimeOut(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 43\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 165\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Permissions : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), \"  \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 32\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"ViewSubscriptions\",\n          onChange: e => {\n            updatePermissionss(\"ViewSubscriptions\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), \" View Subscriptions \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 134\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"CreateSubscriptions\",\n          onChange: e => {\n            updatePermissionss(\"CreateSubscriptions\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), \" Create Subscriptions \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 140\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"DeleteSubscriptions\",\n          onChange: e => {\n            updatePermissionss(\"DeleteSubscriptions\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), \" Delete Subscriptions \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 140\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"UpdateSubscriptions\",\n          onChange: e => {\n            updatePermissionss(\"UpdateSubscriptions\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), \" Update Subscriptions \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 140\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"ViewMovies\",\n          onChange: e => {\n            updatePermissionss(\"ViewMovies\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), \" View Movies\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 112\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"CreateMovies\",\n          onChange: e => {\n            updatePermissionss(\"CreateMovies\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), \" Create Movies \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 119\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"DeleteMovies\",\n          onChange: e => {\n            updatePermissionss(\"DeleteMovies\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), \" Delete Movies \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 119\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"UpdateMovies\",\n          onChange: e => {\n            updatePermissionss(\"UpdateMovies\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this), \" Update Movies \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 119\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 125\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"onelowbutton\",\n          value: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"twolowbutton\",\n          value: \"Cancel\",\n          onClick: e => {\n            props.history.push(\"/MainPage/UsersManagement\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 7\n  }, this);\n}\n\n_s(AddUserPageComp, \"HGubWcA+9/KDDpI1iIG9i3ZNehY=\");\n\n_c = AddUserPageComp;\nexport default AddUserPageComp;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddUserPageComp\");","map":{"version":3,"sources":["C:/Users/Eliezer Muller/Desktop/FinalProject/client/src/AddUserPage.js"],"names":["useState","axios","AddUserPageComp","props","firstName","setFirstName","lastName","setLastName","userName","setUserName","sessionTimeout","setSessionTimeOut","permissions","setPermissions","updatePermissionss","perm","document","getElementById","checked","newPerms","index","indexOf","splice","AddUser","e","preventDefault","obj","password","statusPostLogin","post","resp","get","users","data","user","find","x","UserName","id","_id","objUser","Id","FirstName","LastName","SessionTimeout","Number","CreatedDate","Date","toLocaleDateString","Permissions","statusPostUsers","alert","history","push","match","params","userId","target","value"],"mappings":"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","sourcesContent":["import {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nfunction AddUserPageComp(props) {\r\n//\r\n  const [firstName,setFirstName] = useState(\"\")\r\n  const [lastName,setLastName] = useState(\"\")\r\n  const [userName,setUserName] = useState(\"\")\r\n  const [sessionTimeout,setSessionTimeOut] = useState(\"\")\r\n  const [permissions,setPermissions] = useState([])\r\n\r\n  function updatePermissionss(perm)\r\n  {\r\n\r\n    if(document.getElementById(perm).checked)    \r\n    { \r\n      \r\n        let  newPerms =[...permissions,perm]\r\n        setPermissions(newPerms)\r\n\r\n    }\r\n  \r\n  \r\n    else if(!(document.getElementById(perm).checked))\r\n    {\r\n  \r\n        let index = permissions.indexOf(perm)\r\n        let newPerms = [...permissions]\r\n        newPerms.splice(index,1)\r\n        setPermissions(newPerms)\r\n  \r\n    }\r\n\r\n\r\n  }\r\n\r\n  const AddUser=async (e)=>\r\n\r\n   {\r\n\r\n    e.preventDefault();\r\n\r\n    let obj= { userName: userName,password : null}\r\n\r\n        let statusPostLogin = await axios.post(\"http://localhost:8000/api/login\",obj)\r\n        let resp = await axios.get(\"http://localhost:8000/api/login\")\r\n        let users = resp.data\r\n        let user = users.find(x=>x.UserName==userName)\r\n        let id = user._id\r\n        let objUser = {Id :id, FirstName : firstName, LastName : lastName, UserName : userName, \r\n            SessionTimeout : Number(sessionTimeout), CreatedDate : new Date().toLocaleDateString(\"en-GB\"), \r\n            Permissions : permissions}\r\n        let statusPostUsers = await axios.post(\"http://localhost:8000/api/users\",objUser)\r\n\r\n        alert('A new User has created')\r\n        props.history.push(\"/MainPage/UsersManagement/\" + props.match.params.userId)\r\n      \r\n   }\r\n\r\n\r\n\r\n    return (\r\n  \r\n      \r\n  \r\n      <div className=\"item\" >\r\n\r\n<div className = \"text\">\r\n        \r\n     <h2>Add New User</h2>\r\n\r\n     <form onSubmit={AddUser}>\r\n\r\n        <b>First Name </b> <input className =\"inputTextForm\" type = \"text\" id = \"FirstName\" onChange={e=>{setFirstName(e.target.value)}}/> <br/>\r\n        <b> Last Name:</b> <input className =\"inputTextForm\" type = \"text\" id = \"LastName\" onChange={e=>{setLastName(e.target.value)}}/> <br/>\r\n        <b> User Name :</b> <input type = \"text\" className =\"inputTextForm\" id = \"UserName\" onChange={e=>{setUserName(e.target.value)}}/> <br/>\r\n        <b>Sesion time out (Minutes):</b> <input type = \"text\" className =\"inputTextForm\" id = \"SessionTimeout\" onChange={e=>{setSessionTimeOut(e.target.value)}}/> <br/>\r\n        <b>Permissions : </b>  <br/>\r\n        \r\n        <input type=\"checkbox\" id={\"ViewSubscriptions\"} onChange={e=>{updatePermissionss(\"ViewSubscriptions\")}}/> View Subscriptions <br/>\r\n        <input type=\"checkbox\" id={\"CreateSubscriptions\"} onChange={e=>{updatePermissionss(\"CreateSubscriptions\")}}/> Create Subscriptions <br/>\r\n        <input type=\"checkbox\" id={\"DeleteSubscriptions\"} onChange={e=>{updatePermissionss(\"DeleteSubscriptions\")}}/> Delete Subscriptions <br/>\r\n        <input type=\"checkbox\" id={\"UpdateSubscriptions\"} onChange={e=>{updatePermissionss(\"UpdateSubscriptions\")}}/> Update Subscriptions <br/>\r\n        <input type=\"checkbox\" id={\"ViewMovies\"} onChange={e=>{updatePermissionss(\"ViewMovies\")}}/> View Movies<br/>\r\n        <input type=\"checkbox\" id={\"CreateMovies\"} onChange={e=>{updatePermissionss(\"CreateMovies\")}}/> Create Movies <br/>\r\n        <input type=\"checkbox\" id={\"DeleteMovies\"} onChange={e=>{updatePermissionss(\"DeleteMovies\")}}/> Delete Movies <br/>\r\n        <input type=\"checkbox\" id={\"UpdateMovies\"} onChange={e=>{updatePermissionss(\"UpdateMovies\")}}/> Update Movies <br/> <br/>\r\n\r\n        <input type=\"submit\" className=\"onelowbutton\" value=\"Save\" />\r\n        <input type=\"submit\" className=\"twolowbutton\" value=\"Cancel\" onClick={e=>{props.history.push(\"/MainPage/UsersManagement\")}}/>\r\n        \r\n      </form>\r\n        \r\n      </div>\r\n\r\n      </div>\r\n  \r\n      \r\n    );\r\n  }\r\n  \r\n  export default AddUserPageComp;"]},"metadata":{},"sourceType":"module"}