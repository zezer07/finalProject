{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eliezer Muller\\\\Desktop\\\\FinalProject\\\\client\\\\src\\\\CreateAccountPage.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateAccountPageComp = props => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const checkUserName = async () => {\n    let resp = await axios.get(\"http://localhost:8000/api/login\");\n    let usersLogin = resp.data;\n    let user = usersLogin.find(user => user.UserName === username && user.Password === null);\n\n    if (user) {\n      let obj = {\n        userName: username,\n        password: password\n      };\n      let id = user._id;\n      let resp = await axios.put(\"http://localhost:8000/api/login/\" + id, obj);\n      let status = resp.data;\n\n      if (status === 'Updated') {\n        alert(\"Your account has been successfully created, you can now log in\");\n        props.history.push('/');\n      }\n    } else {\n      alert(\"You have not been registered to the system. Please consult the system administrator!\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create an account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"inputText\",\n      onChange: e => {\n        setUsername(e.target.value);\n      },\n      placeholder: \"User Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 128\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      className: \"inputText\",\n      onChange: e => {\n        setPassword(e.target.value);\n      },\n      placeholder: \"Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 14\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 132\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 138\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"button\",\n      className: \"buttonLogin\",\n      value: \"Create \",\n      onClick: checkUserName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 14\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 105\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 8\n  }, this);\n};\n\n_s(CreateAccountPageComp, \"eV65LzuG77rFchDnjG9caglsNPo=\");\n\n_c = CreateAccountPageComp;\nexport default CreateAccountPageComp;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAccountPageComp\");","map":{"version":3,"sources":["C:/Users/Eliezer Muller/Desktop/FinalProject/client/src/CreateAccountPage.js"],"names":["axios","useState","CreateAccountPageComp","props","username","setUsername","password","setPassword","checkUserName","resp","get","usersLogin","data","user","find","UserName","Password","obj","userName","id","_id","put","status","alert","history","push","e","target","value"],"mappings":";;;AAAA,OAAO,WAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,OAAvB;;;AAEA,MAAMC,qBAAqB,GAAEC,KAAD,IAC5B;AAAA;;AACE,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBJ,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACK,QAAD,EAAUC,WAAV,IAAwBN,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMO,aAAa,GAAC,YACpB;AACE,QAAIC,IAAI,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAU,iCAAV,CAAjB;AACA,QAAIC,UAAU,GAAGF,IAAI,CAACG,IAAtB;AACA,QAAIC,IAAI,GAAGF,UAAU,CAACG,IAAX,CAAgBD,IAAI,IAAEA,IAAI,CAACE,QAAL,KAAgBX,QAAhB,IAA4BS,IAAI,CAACG,QAAL,KAAgB,IAAlE,CAAX;;AACA,QAAGH,IAAH,EACA;AACI,UAAII,GAAG,GAAG;AAACC,QAAAA,QAAQ,EAAGd,QAAZ;AAAsBE,QAAAA,QAAQ,EAAGA;AAAjC,OAAV;AACA,UAAIa,EAAE,GAAGN,IAAI,CAACO,GAAd;AACA,UAAIX,IAAI,GAAG,MAAMT,KAAK,CAACqB,GAAN,CAAU,qCAAmCF,EAA7C,EAAgDF,GAAhD,CAAjB;AACA,UAAIK,MAAM,GAAGb,IAAI,CAACG,IAAlB;;AAEA,UAAGU,MAAM,KAAG,SAAZ,EACA;AACIC,QAAAA,KAAK,CAAC,gEAAD,CAAL;AACApB,QAAAA,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACH;AAEJ,KAbD,MAeA;AACIF,MAAAA,KAAK,CAAC,sFAAD,CAAL;AACH;AAEA,GAxBH;;AA2BC,sBAEI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,4BAEM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFN,eAIM;AAAO,MAAA,IAAI,EAAE,MAAb;AAAoB,MAAA,SAAS,EAAG,WAAhC;AAA4C,MAAA,QAAQ,EAAGG,CAAC,IAAE;AAACrB,QAAAA,WAAW,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B,OAAvF;AAAyF,MAAA,WAAW,EAAC;AAArG;AAAA;AAAA;AAAA;AAAA,YAJN,eAIwH;AAAA;AAAA;AAAA;AAAA,YAJxH,eAKM;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,SAAS,EAAG,WAAnC;AAA+C,MAAA,QAAQ,EAAIF,CAAC,IAAE;AAACnB,QAAAA,WAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B,OAA3F;AAA6F,MAAA,WAAW,EAAC;AAAzG;AAAA;AAAA;AAAA;AAAA,YALN,oBAK4H;AAAA;AAAA;AAAA;AAAA,YAL5H,oBAKkI;AAAA;AAAA;AAAA;AAAA,YALlI,eAMM;AAAO,MAAA,IAAI,EAAE,QAAb;AAAsB,MAAA,SAAS,EAAE,aAAjC;AAA+C,MAAA,KAAK,EAAG,SAAvD;AAAiE,MAAA,OAAO,EAAEpB;AAA1E;AAAA;AAAA;AAAA;AAAA,YANN,oBAMiG;AAAA;AAAA;AAAA;AAAA,YANjG;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAYF,CA5CD;;GAAMN,qB;;KAAAA,qB;AA+CN,eAAeA,qBAAf","sourcesContent":["import './App.css'\r\nimport axios from 'axios'\r\nimport {useState} from 'react'\r\n\r\nconst CreateAccountPageComp=(props)=>\r\n{\r\n  const [username,setUsername] = useState(\"\")\r\n  const [password,setPassword]= useState(\"\")\r\n\r\n  const checkUserName=async()=>\r\n  {\r\n    let resp = await axios.get(\"http://localhost:8000/api/login\")\r\n    let usersLogin = resp.data\r\n    let user = usersLogin.find(user=>user.UserName===username && user.Password===null)\r\n    if(user)\r\n    {\r\n        let obj = {userName : username, password : password}\r\n        let id = user._id\r\n        let resp = await axios.put(\"http://localhost:8000/api/login/\"+id,obj)\r\n        let status = resp.data\r\n\r\n        if(status==='Updated')\r\n        {\r\n            alert(\"Your account has been successfully created, you can now log in\")\r\n            props.history.push('/')\r\n        }\r\n\r\n    }\r\n    else \r\n    {\r\n        alert(\"You have not been registered to the system. Please consult the system administrator!\")\r\n    }\r\n\r\n    }\r\n  \r\n\r\n   return (\r\n\r\n       <div className=\"login\">\r\n             \r\n             <h2>Create an account</h2>\r\n\r\n             <input type =\"text\" className = \"inputText\" onChange ={e=>{setUsername(e.target.value)}} placeholder=\"User Name\"/><br/> \r\n             <input type=\"password\" className = \"inputText\" onChange = {e=>{setPassword(e.target.value)}} placeholder=\"Password\"/> <br/> <br/>\r\n             <input type= \"button\" className =\"buttonLogin\" value = \"Create \" onClick={checkUserName}/> <br/>\r\n\r\n       </div>\r\n   )\r\n}\r\n\r\n\r\nexport default CreateAccountPageComp\r\n"]},"metadata":{},"sourceType":"module"}